{"slots":{"0":{"name":"slot1","type":{"events":[],"methods":[]}},"1":{"name":"slot2","type":{"events":[],"methods":[]}},"2":{"name":"slot3","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-3":{"name":"player","type":{"events":[],"methods":[]}},"-2":{"name":"construct","type":{"events":[],"methods":[]}},"-4":{"name":"system","type":{"events":[],"methods":[]}},"-5":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"system.print(\"----------------------------------\")\nsystem.print(\"Machine Control v0.1\")\nsystem.print(\"----------------------------------\")\n-------------------------------------------------------------------------------------\n\nfor slot_name, slot in pairs(unit) do\n    if type(slot) == \"table\"\n        and type(slot.export) == \"table\"\n        and slot.getClass\n        then\n        if slot.getClass() == 'ScreenUnit' then\n            Screen = slot\n            slot.activate()\n        elseif slot.getClass() == 'EmitterUnit' then\n            Emitter = slot\n        end\n    end\nend   \n\n\nall_slots = {slot1,slot2, slot3, slot4, slot5, slot6, slot7, slot8, slot9, slot10,}\ng_slots = {}\n\nfor i, dbslot in ipairs(all_slots) do\nif dbslot.getClass() == 'DataBankUnit' then\n table.insert(g_slots, dbslot)\nend\nend\n\nSet1ForAll = false --export\nif Set1ForAll == true then SetAll = \"True\" else SetAll = \"False\" end\nSAllProductID = 2872711779 --export \nMaintain = 1 --export \nBatch = 1 --export\nS1ProductID = 1297540454 --export\nS2ProductID = 1297540454 --export\nS3ProductID = 1297540454 --export\nS4ProductID = 1297540454 --export\nS5ProductID = 1297540454 --export\nS6ProductID = 1297540453 --export\nS7ProductID = 1297540453 --export\nS8ProductID = 1297540453 --export\nS9ProductID = 1297540453 --export\nS10ProductID = 1297540453 --export\nSendChannelID = \"ch10\" --export\n--ChannelID = \"ch1\" --export\ng_slots[1].setStringValue(1 .. \"CH\",nil)\ng_slots[2].setStringValue(1 .. \"CH\",nil)\ng_slots[1].setStringValue(1 .. \"P\",nil)\ng_slots[1].setStringValue(2 .. \"P\",nil)\ng_slots[1].setStringValue(3 .. \"P\",nil)\ng_slots[1].setStringValue(4 .. \"P\",nil)\ng_slots[1].setStringValue(5 .. \"P\",nil)\ng_slots[1].setStringValue(1,nil)\ng_slots[1].setStringValue(2,nil)\ng_slots[1].setStringValue(3,nil)\ng_slots[1].setStringValue(4,nil)\ng_slots[1].setStringValue(5,nil)\ng_slots[2].setStringValue(1 .. \"P\",nil)\ng_slots[2].setStringValue(2 .. \"P\",nil)\ng_slots[2].setStringValue(3 .. \"P\",nil)\ng_slots[2].setStringValue(4 .. \"P\",nil)\ng_slots[2].setStringValue(5 .. \"P\",nil)\ng_slots[2].setStringValue(1,nil)\ng_slots[2].setStringValue(2,nil)\ng_slots[2].setStringValue(3,nil)\ng_slots[2].setStringValue(4,nil)\ng_slots[2].setStringValue(5,nil)\ng_slots[1].setStringValue(1 .. \"CH\",SendChannelID)\ng_slots[2].setStringValue(1 .. \"CH\",SendChannelID)\ng_slots[1].setStringValue(1 .. \"TF\",SetAll)\ng_slots[2].setStringValue(1 .. \"TF\",SetAll)\ng_slots[1].setStringValue(1 .. \"A\",SAllProductID)\ng_slots[2].setStringValue(1 .. \"A\",SAllProductID)\ng_slots[1].setStringValue(1 .. \"B\",Batch)\ng_slots[2].setStringValue(1 .. \"B\",Batch)\ng_slots[1].setStringValue(1 .. \"M\",Maintain)\ng_slots[2].setStringValue(1 .. \"M\",Maintain)\ng_slots[1].setStringValue(1 .. \"S\",S1ProductID)\ng_slots[1].setStringValue(2 .. \"S\",S2ProductID)\ng_slots[1].setStringValue(3 .. \"S\",S3ProductID)\ng_slots[1].setStringValue(4 .. \"S\",S4ProductID)  \ng_slots[1].setStringValue(5 .. \"S\",S5ProductID)  \ng_slots[2].setStringValue(1 .. \"S\",S6ProductID)  \ng_slots[2].setStringValue(2 .. \"S\",S7ProductID)  \ng_slots[2].setStringValue(3 .. \"S\",S8ProductID)  \ng_slots[2].setStringValue(4 .. \"S\",S9ProductID)  \ng_slots[2].setStringValue(5 .. \"S\",S10ProductID)\n\nunit.setTimer(\"run\")\n--unit.setTimer(\"ping\")\n--Emitter.setChannelList(ChannelID)","filter":{"args":[],"signature":"onStart()","slotKey":"-1"},"key":"0"},{"code":" params = {\n    [1] = g_slots[1].getStringValue(1) .. \"   \" .. g_slots[1].getStringValue(1 .. \"P\"),\n    [2] = g_slots[1].getStringValue(2) .. \"   \" .. g_slots[1].getStringValue(2 .. \"P\"),\n    [3] = g_slots[1].getStringValue(3) .. \"   \" .. g_slots[1].getStringValue(3 .. \"P\"),\n    [4] = g_slots[1].getStringValue(4) .. \"   \" .. g_slots[1].getStringValue(4 .. \"P\"),\n    [5] = g_slots[1].getStringValue(5) .. \"   \" .. g_slots[1].getStringValue(5 .. \"P\"),\n    [6] = g_slots[2].getStringValue(1) .. \"   \" .. g_slots[2].getStringValue(1 .. \"P\"),\n    [7] = g_slots[2].getStringValue(2) .. \"   \" .. g_slots[2].getStringValue(2 .. \"P\"),\n    [8] = g_slots[2].getStringValue(3) .. \"   \" .. g_slots[2].getStringValue(3 .. \"P\"),\n    [9] = g_slots[2].getStringValue(4) .. \"   \" .. g_slots[2].getStringValue(4 .. \"P\"),\n    [10] = g_slots[2].getStringValue(5) .. \"   \" .. g_slots[2].getStringValue(5 .. \"P\"), \n}  \n \nScreen.setScriptInput(json.encode(params))\n","filter":{"args":[{"value":"run"}],"signature":"onTimer(tag)","slotKey":"-1"},"key":"1"},{"code":"--Emitter.send(SendChannelID,\"ping\")\nunit.stopTimer(\"ping\") ","filter":{"args":[{"value":"ping"}],"signature":"onTimer(tag)","slotKey":"-1"},"key":"2"},{"code":"--updateAndStart\nEmitter.send(SendChannelID,\"6\")","filter":{"args":[{"value":"option6"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"3"},{"code":"--maintainstart\nEmitter.send(SendChannelID,\"5\")","filter":{"args":[{"value":"option5"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"4"},{"code":"--batchstart\nEmitter.send(SendChannelID,\"4\")","filter":{"args":[{"value":"option4"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"5"},{"code":"--start\nEmitter.send(SendChannelID,\"3\")","filter":{"args":[{"value":"option3"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"6"},{"code":"--hardstop\nEmitter.send(SendChannelID,\"2\")","filter":{"args":[{"value":"option2"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"7"},{"code":"--softstop\nEmitter.send(SendChannelID,\"1\")","filter":{"args":[{"value":"option1"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"8"},{"code":"local handlers = {}\nhandlers['Start Alt+3'] = function() Emitter.send(SendChannelID,\"3\") end\nhandlers['Hard Stop Alt+2'] = function() Emitter.send(SendChannelID,\"2\") end\nhandlers['Soft Stop Alt+1'] = function() Emitter.send(SendChannelID,\"1\") end\nhandlers['Update Item & Start Alt+6'] = function() Emitter.send(SendChannelID,\"6\") end\n\nlocal output = Screen.getScriptOutput()\nif #output > 0 then\n    Screen.clearScriptOutput()\n    if handlers[output] then handlers[output]() end\nend","filter":{"args":[],"signature":"onUpdate()","slotKey":"-4"},"key":"9"}],"methods":[],"events":[]}
